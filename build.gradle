buildscript {
    repositories {
        jcenter()
    }
    dependencies {
        classpath 'com.jfrog.bintray.gradle:gradle-bintray-plugin:1.8.4'
    }
}

plugins {
    id 'com.gradle.build-scan' version '1.15.1' // declare before any other plugin
    id 'com.google.osdetector' version '1.4.0'
    id 'com.github.sherter.google-java-format' version '0.7.1' apply false
    id 'com.github.johnrengelman.shadow' version '2.0.1' apply false
    id 'me.champeau.gradle.jmh' version '0.4.4' apply false
    id 'io.morethan.jmhreport' version '0.6.2.1' apply false
}

buildScan { licenseAgreementUrl = 'https://gradle.com/terms-of-service'; licenseAgree = 'yes' }

project(':rsocket-rpc-core') {
    description = 'RSocket RPC Library'
    ext.artifactName = 'rsocket-rpc-core'

    apply from: file('../gradle/java.gradle')
}

project(':rsocket-rpc-metrics-idl') {
    description = 'RSocket RPC Metrics IDL'
    ext.artifactName = 'rsocket-rpc-metrics-idl'

    apply from: file('../gradle/java.gradle')
}

project(':rsocket-rpc-protobuf') {
    description = 'RSocket RPC Protobuf Generator'
    ext.artifactName = 'rsocket-rpc-protobuf'
}

project(':rsocket-rpc-protobuf-idl') {
    description = 'RSocket RPC Protobf IDL'
    ext.artifactName = 'rsocket-rpc-protobuf-idl'

    apply from: file('../gradle/java.gradle')
}
