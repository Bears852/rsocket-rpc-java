sudo: required
matrix:
  include:
  - os: linux
    jdk: oraclejdk8
    language: generic
    before_install:
    - wget https://github.com/google/protobuf/releases/download/v3.6.1/protobuf-cpp-3.6.1.tar.gz
    - tar -xzvf protobuf-cpp-3.6.1.tar.gz
    - pushd protobuf-3.6.1 && ./configure --disable-shared && make && sudo make install
      && popd
    script: "./ci/travis.sh"
  - os: osx
    osx_image: xcode9.4
    language: generic
    env:
    - HOMEBREW_TEMP="/tmp"
    - LDFLAGS="/usr/local/lib/libprotobuf.a /usr/local/lib/libprotoc.a"
    before_install:
    - brew update
    - EDITOR="sed -i '' 's/system \".\/configure\",/system \".\/configure\", \"--disable-shared\",/g'"
      brew edit protobuf
    - brew install protobuf
    script: "./ci/travis.sh"
before_cache:
- rm -f $HOME/.gradle/caches/modules-2/modules-2.lock
notifications:
  email: false
cache:
  directories:
  - "$HOME/.gradle/caches/"
  - "$HOME/.gradle/wrapper/"
  - "$HOME/.m2"
env:
  global:
  - secure: "ErthuwJHqk8MPlGQcwaSV1mk6DI1z6YHg+XnNUE9yx/EXUqVMyazu5u9VqlZhMMQQm6II8Y8oBF1uK4JdNVKa44xCt8OM3d/HbG5WhYyigNuKaOgK19FGfA7hciY4gzcMsix/lOryqu8JlYqABAIJFwZIJFtnEdylxUO46/PLP01TOHVOrnaUXpTNm6esaXfmgv1ToQCtwALSgo/xy2KYFA6vpzcTYnMii9eMaOZdy3162t8M6equ2WHhqiKvxCX1+M8D76/WoRF1v45dekAV3UKSBf5b3UcK1W1V/NxtwMufD7tXLGxDsBo2JWQOLjx+AyiKGwhVkZBbvfECDKKjq3x5NMjvjqleprYNEKQYibCNvhXVpZPZgKt899RHOXMjt+fr+iq1aHpHU98iFWXyp+MgYbe9Fez/xcWDH9rri+LKsCgZd1PtpDjTjUsZWesAsXYQatTGOZ0w0cOkURbVhUKltnf/AzuhOlj3XqJmO30vKiBhtwzyfvrURc+0GqWlRoU0C1qskmtmI10PJRR1Qv3eMKvvi6XIQfit9J01V/0sJ+WoG6980hJy0N421qr1+LNg3WmDGtMp6UyoAvjUbDFaW3xzGdbsNmLzWqfaFY1kM7ry6WaVVbGEYz0uHKEvMnqLrM3t18qO4wQsaskGCYEaYSmFp4oMT4pDRgCzvU="
  - secure: "G+FkJfEGeUdBFtMtZSZJxyTvdlD8IJnAuznEXuxsApL2khEsOtojTDEHJuE0nyVLFrxe5eFfbF/X2AHIQ7bgH0CPQKoT9GtVZJQDrLbDONzGQNbIUtmo+xIfpPmfmGxWiRTaovyU3K3KWJdU5s6sokMpCqNeTNgugzDstC2QFawmSL4BtVqMP5t9LrTbRw+FR7NkSZ2HCuad80RrYAOir1jqi7852AKzUACvvOwgZRbaaWGSTxdow3V3pJGGw2k8fx7C1vYaucKGhgkV9dT1GgHAV4TyXzEWfBhIofG3aqAT4d/sVLFKcsh6ixBLDe29mCchWyhB24eaLlArjerDVFy+bCMWHsLYXHtqSpZAyyi8DEHMpFalfpCif9OhNcCTlBrUkr58i1P6Ru6lVmzsW9FhijtNmX4Hdz+BRCQJB7G1zYwULOYG+mQTDmHBGP8lUswaCwD4kxMjfZBna23gsD4z8r3WWMbaG0zRuUuX7gnApI/LYaSbm9eM+ef5IEYOwvA5uf/ZRsSyoetcmI+hGHiFPZUUgCg2SI/RWyB2XAuHBsD//cHWF9JiFv0av0/19HkryRSjGo029qa456BDI4yTTRfT0L6oUjCtjXGOVmWkkd1TB/G8oidPjB3HCGMttKrSpdB0Y6RrVzjZJueqqaCOZ2X4+ksqc4PB3vZR8vo="
