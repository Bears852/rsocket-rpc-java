sudo: required
matrix:
  include:
  - os: linux
    jdk: oraclejdk8
    language: generic
    before_install:
    - wget https://github.com/google/protobuf/releases/download/v3.6.1/protobuf-cpp-3.6.1.tar.gz
    - tar -xzvf protobuf-cpp-3.6.1.tar.gz
    - pushd protobuf-3.6.1 && ./configure --disable-shared && make && sudo make install
      && popd
    script: "./ci/travis.sh"
  - os: osx
    osx_image: xcode9.4
    language: generic
    env:
    - HOMEBREW_TEMP="/tmp"
    - LDFLAGS="/usr/local/lib/libprotobuf.a /usr/local/lib/libprotoc.a"
    before_install:
    - brew update
    - EDITOR="sed -i '' 's/system \".\/configure\",/system \".\/configure\", \"--disable-shared\",/g'"
      brew edit protobuf
    - brew install protobuf
    script: "./ci/travis.sh"
before_cache:
- rm -f $HOME/.gradle/caches/modules-2/modules-2.lock
notifications:
  email: false
cache:
  directories:
  - "$HOME/.gradle/caches/"
  - "$HOME/.gradle/wrapper/"
  - "$HOME/.m2"
env:
  global:
  - secure: gZkSO6IBwkTl4WOJQwl/2XRkB1RtzUs0WQNG0gs6M04KZqdJhL3wFUztQGQ91fN0i0WFXbRt5BunJPgAjSy7B4BcKbo220Iqc9JriJS/+1WlMi/q0724GsnV0Z36GgTcutEbG5QM7gP7a5ttOOug2P+pjo11may2+ERPmZAvXhh/7w9Mi35ANMcKInUTgPjBewcErPJH8XTakh8FjSzvGpSVnOQ3Ex3KeEzDTC5kV5ZOe1DFbNbCzPVclKgVN5GIH6q3q2/MUol5OQ3ADxeEhuufPO6HduKejpKyIdI7I4peoj0RBn/eEFCzU+57EdStFfWCstl1uBKWAfExAozfCUccA8rMPe+p9uxAKG5EfgZNg0mw6025p2KWB56ZUjtAxGEZyAXPjWhnKHYC8jr1PwI5Rw2AcxHHy2usWxO0LSKVwDW5sDpsvcp010xThs1IHMpdQVl67rHTz7ymZ+EX+oqvj6TGRpQ+4lrJ3zbt1X+g02mj8PH+l2Z0DhuwWpJJwqlbvIavuD5Sku125h6VVD8WeSn2zNFA0Aa3ulrNzcucDqt9/omlMKyr/iQtxPXubqglF+ctN2CHYeCaeDGfcj2mz9y0YdKZvZfHwdBFCtCnznjMJ2jXmS2k9r2hvRNRxRh+lszKPVEfos97VZKRUNQ2mM6iGWR2vRrbkCCQDeA=
  - secure: rE2weYlB/lOGjXt4Xi3kG2D2BE25WotKI0krKkH+TpOG3ItMgwV6XjOX6a6AIogqrFfQFKQUuGtr4XW1/p/edftxBz8GW7MSQNlsHzQIl0OezDKPIVW2oCUDtwEA0ic3fo7i6y77FwoTNBNp1Oi3OyQxZkMOkmGUuHlGGUVhvLvXvgiIYSNMnFD8MWNoIh/Az4g4tTFJadCblWuP3r6XG9VDfFPb5GVGrsTPzSOobMhmg/RQM/G5cv05mm0p0ktYqHe7XZCneMnlgUeBvFw9kR/eGJEj7bESqxuHV0Iuw5Ksp6875kQACXVhix3wrB7d58ZBfwyg05ng212X7QNPOSAn90cz7xQDTARYmD4R+jZNcr8ozFXV+4legLikREifzfTEo9iBHdwzJ4qIjLgyLSrx3NsbAOzPW9oDvKRbDV++R11UGGv8envw1ygl2X4IPqB2vkDe43WYS/zx/FYqaBrPUa6b+X00QoAm92mvpEOzr/co8840u7M9U83h+yzAUObDbBDrRGSY0wep6AIxisVygNLVTUTURaQg7pO4/4susU23sxrgeeiXGl5qq/58WXaMWqE8HFL9TwnxNHcP73AJxivMWvGo55RSFwC3JZBP8duHcSg7Cy04yKyLZ3WxjYZoZuNk5B+QwYMFC+LL6IxXOmjcugqtweH1rlbdeRY=
